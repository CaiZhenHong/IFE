<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>编码02</title>
    <style>
        textarea {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div>
        <label>String A:
            <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
        </label>
        <textarea id="str-a"></textarea>
        <label>String B:
            <input id="radio-b" type="radio" name="str-obj" value="b">
        </label>
        <textarea id="str-b"></textarea>
        <label>Num A：<input id="num-a" type="number" value="0"></label>
        <label>Num B：<input id="num-b" type="number" value="1"></label>
    </div>
    <div>
        <button>获取当前选中输入的内容长度</button>
        <button>当前选中输入中的第3个字符</button>
        <button>把两个输入框的文字连接在一起输出（concat）</button>
        <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
        <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
        <button>使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
        <button>当前选中输入框的行数</button>
        <button>使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
        <button>把所选输入框中的内容全部转为大写</button>
        <button>把所选输入框中的内容全部转为小写</button>
        <button>把所选输入框中内容的半角空格全部去除</button>
        <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p id="result"></p>

    <script>
        /* 
        1. 按照HTML中按钮的描述以此实现功能
        2. 计算结果显示在 id 为 result 的 P 标签中
         */
        let result = document.getElementById("result");
        let btns = document.getElementsByTagName("button");

        let radioA = document.getElementById("radio-a");
        let radioB = document.getElementById("radio-b");

        let strA = document.getElementById("str-a");
        let strB = document.getElementById("str-b");

        let numA = document.getElementById("num-a");
        let numB = document.getElementById("num-b");

        btns[0].onclick = function () {
            /* 获取当前选中输入的内容长度 */
            radioA.checked == true ? (result.innerHTML = strA.value.length) : (result.innerHTML = strB.value
                .length);
        };
        btns[1].onclick = function () {
            /* 当前选中输入中的第3个字符 */
            radioA.checked == true ? (result.innerHTML = (strA.value).charAt(2)) : (result.innerHTML = (strB.value)
                .charAt(2));
        };
        btns[2].onclick = function () {
            /* 把两个输入框的文字连接在一起输出（concat） */
            result.innerHTML = (strA.value).concat(strB.value);
        };
        btns[3].onclick = function () {
            /* 输入B中的内容，在输入A的内容中第一次出现的位置（indexOf） */
            result.innerHTML = (strA.value).indexOf(strB.value);
        };
        btns[4].onclick = function () {
            /* 输入A中的内容，在输入B的内容中最后一次出现的位置） */
            result.innerHTML = (strA.value).lastIndexOf(strB.value);
        };
        btns[5].onclick = function () {
            /* 使用slice获取选中输入框内容的部分内容，参数为num-a及num-b */
            radioA.checked == true ? result.innerHTML = ((strA.value).slice(Number(numA.value), Number(numB
                .value))) : (result.innerHTML = ((strB
                .value).slice(Number(numA.value), Number(numB.value))));
        };
        btns[6].onclick = function () {
            /* 未完成 */
            /* 当前选中输入框的行数 */
            let straLen = (((strA.value).match(/[\u0000-\u00ff]/g)).length) + (((strA.value).match(
                /[\u4e00-\u9fa5]/g)).length) / 2;
            let wid = (window.getComputedStyle(strA, null).width).replace(/px/, "");
            let fot = (window.getComputedStyle(strA, null).fontSize).replace(/px/, "");

            console.log(wid - fot * straLen);

        };
        btns[7].onclick = function () {
            /* 使用substr获取选中输入框内容的子字符串，参数为num-a及num-b */
            radioA.checked == true ? result.innerHTML = ((strA.value).substr(Number(numA.value), Number(numB
                .value))) : (result.innerHTML = ((strB
                .value).substr(Number(numA.value), Number(numB.value))));
        };
        btns[8].onclick = function () {
            /* 把所选输入框中的内容全部转为大写*/
            radioA.checked == true ? result.innerHTML = (strA.value).toUpperCase() : result.innerHTML = (strB.value)
                .toUpperCase();
        };
        btns[9].onclick = function () {
            /* 把所选输入框中的内容全部转为小写*/
            radioA.checked == true ? result.innerHTML = (strA.value).toLowerCase() : result.innerHTML = (strB.value)
                .toLowerCase();
        };
        btns[10].onclick = function () {
            /* 把所选输入框中内容的半角空格全部去除*/
            if (radioA.checked == true) {
                result.innerHTML = (strA.value).replace(/ /g, "");
            } else {
                result.innerHTML = (strB.value).replace(/ /g, "");
            }

        };
        btns[11].onclick = function () {
            /* 把所选输入框中内容的a全部替换成另外一个输入框中的内容*/
            radioA.checked == true ? (result.innerHTML = (strA.value).replace(/a/g, strB.value)) : result
                .innerHTML = ((strB.value)
                    .replace(/a/g, strA.value));
        };
    </script>
</body>

</html>